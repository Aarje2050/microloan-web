src
â”œâ”€â”€ app
â”‚   â”œâ”€â”€ (auth)
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ login
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ register
â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ api
â”‚   â”‚   â”œâ”€â”€ auth
â”‚   â”‚   â””â”€â”€ webhooks
â”‚   â”œâ”€â”€ auth
â”‚   â”‚   â”œâ”€â”€ admin
â”‚   â”‚   â”œâ”€â”€ borrower
â”‚   â”‚   â””â”€â”€ lender
â”‚   â”œâ”€â”€ dashboard
â”‚   â”‚   â”œâ”€â”€ admin
â”‚   â”‚   â”‚   â””â”€â”€ dashboard.tsx
â”‚   â”‚   â”œâ”€â”€ borrower
â”‚   â”‚   â”‚   â””â”€â”€ dashboard.tsx
â”‚   â”‚   â”œâ”€â”€ lender
â”‚   â”‚   â”‚   â””â”€â”€ dashboard.tsx
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ error.tsx
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ globals.css
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ loading.tsx
â”‚   â”œâ”€â”€ not-found.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ providers.tsx
â”œâ”€â”€ assets
â”‚   â”œâ”€â”€ docs
â”‚   â”œâ”€â”€ fonts
â”‚   â””â”€â”€ images
â”‚       â”œâ”€â”€ icons
â”‚       â”œâ”€â”€ illustrations
â”‚       â””â”€â”€ logos
â”œâ”€â”€ components
â”‚   â”œâ”€â”€ common
â”‚   â”œâ”€â”€ features
â”‚   â”‚   â”œâ”€â”€ analytics
â”‚   â”‚   â”œâ”€â”€ auth
â”‚   â”‚   â”œâ”€â”€ dashboard
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ loans
â”‚   â”‚   â””â”€â”€ users
â”‚   â”œâ”€â”€ forms
â”‚   â”‚   â”œâ”€â”€ auth
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ loan
â”‚   â”‚   â””â”€â”€ user
â”‚   â”œâ”€â”€ layout
â”‚   â”‚   â”œâ”€â”€ dashboard-layout.tsx
â”‚   â”‚   â”œâ”€â”€ desktop-sidebar.tsx
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ mobile-navigation.tsx
â”‚   â””â”€â”€ ui
â”‚       â”œâ”€â”€ badge.tsx
â”‚       â”œâ”€â”€ button.tsx
â”‚       â”œâ”€â”€ card.tsx
â”‚       â”œâ”€â”€ index.ts
â”‚       â”œâ”€â”€ input.tsx
â”‚       â”œâ”€â”€ loading.tsx
â”‚       â”œâ”€â”€ stats-card.tsx
â”‚       â””â”€â”€ toast.tsx
â”œâ”€â”€ lib
â”‚   â”œâ”€â”€ api
â”‚   â”‚   â”œâ”€â”€ analytics
â”‚   â”‚   â”œâ”€â”€ loans
â”‚   â”‚   â””â”€â”€ users
â”‚   â”œâ”€â”€ auth
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ constants
â”‚   â”‚   â”œâ”€â”€ app-config.ts
â”‚   â”‚   â”œâ”€â”€ permissions.ts
â”‚   â”‚   â””â”€â”€ routes.ts
â”‚   â”œâ”€â”€ hooks
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ stores
â”‚   â”‚   â””â”€â”€ auth-store.ts
â”‚   â”œâ”€â”€ supabase.ts
â”‚   â”œâ”€â”€ types
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ utils
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ utils.ts
â”œâ”€â”€ middleware.ts
â”œâ”€â”€ styles
â”‚   â””â”€â”€ themes
â””â”€â”€ types
    â”œâ”€â”€ database.ts
    â””â”€â”€ index.ts


## INITIAL PROJECT INFORMATION - We wrote this when we started our project , so you can take reference for initial planning and goals 

# ğŸ¦ MicroLoan Manager - Enterprise Web Application
## Complete Project Summary & Technical Documentation

---

## ğŸ¯ **PROJECT OVERVIEW**

**MicroLoan Manager** is an enterprise-grade microloan management platform designed as a **mobile-first web application** that provides native app-like experience without App Store dependencies. The system serves three distinct user roles with comprehensive loan lifecycle management.

### **Core Business Model:**
- **Super Admin**: System owner managing lenders and overall operations
- **Lenders**: Loan officers creating borrowers, managing loans, tracking payments
- **Borrowers**: Customers viewing loans, EMI schedules, making payments

### **Key Business Requirements:**
- Mobile-first design with native app feeling
- Role-based access control with enterprise security
- Real-time EMI calculations and payment tracking
- Document management for KYC compliance
- Comprehensive analytics and reporting
- PWA capabilities for mobile installation

---

## ğŸ—ï¸ **CURRENT TECHNICAL STACK**

### **Frontend Architecture:**
- **Next.js 14** with App Router (TypeScript strict mode)
- **Tailwind CSS** with custom enterprise design system
- **Zustand** for lightweight state management
- **TanStack Query (React Query v5)** for server state
- **React Hook Form + Zod** for forms and validation
- **Lucide React** for consistent iconography
- **Radix UI** for accessible component primitives

### **Backend & Database:**
- **Supabase** (PostgreSQL + Authentication + Real-time)
- **Row Level Security (RLS)** for database-level security
- **JWT Authentication** with automatic token refresh
- **Real-time subscriptions** for live data updates

### **Development & Quality:**
- **TypeScript** throughout for type safety
- **ESLint + Prettier** for code quality
- **Tailwind CSS** for responsive design
- **PWA Support** for mobile app installation
- **Enterprise directory structure** for team scalability

---

## ğŸ—„ï¸ **DATABASE ARCHITECTURE & STATUS**

### **Current Database Schema (PostgreSQL via Supabase):**

#### **Core Tables:**
```sql
users (7 columns)
â”œâ”€â”€ id (UUID, Primary Key)
â”œâ”€â”€ email (VARCHAR, Unique)
â”œâ”€â”€ role (ENUM: super_admin, lender, borrower)
â”œâ”€â”€ phone (VARCHAR, Unique)
â”œâ”€â”€ full_name (VARCHAR)
â”œâ”€â”€ active (BOOLEAN)
â”œâ”€â”€ email_verified (BOOLEAN)
â”œâ”€â”€ pending_approval (BOOLEAN)
â”œâ”€â”€ created_at/updated_at/deleted_at (Timestamps)

user_profiles (5 columns)
â”œâ”€â”€ id (UUID, Primary Key)
â”œâ”€â”€ user_id (UUID, Foreign Key â†’ users.id)
â”œâ”€â”€ avatar_url (TEXT, Optional)
â”œâ”€â”€ address (TEXT, Optional)
â”œâ”€â”€ kyc_status (ENUM: pending, verified, rejected)

borrowers (7 columns)
â”œâ”€â”€ id (UUID, Primary Key)
â”œâ”€â”€ user_id (UUID, Foreign Key â†’ users.id)
â”œâ”€â”€ lender_id (UUID, Foreign Key â†’ users.id)
â”œâ”€â”€ credit_score (INTEGER, 300-850)
â”œâ”€â”€ employment_type (VARCHAR)
â”œâ”€â”€ monthly_income (DECIMAL)
â”œâ”€â”€ created_at/updated_at/deleted_at

loans (11 columns)
â”œâ”€â”€ id (UUID, Primary Key)
â”œâ”€â”€ borrower_id (UUID, Foreign Key â†’ borrowers.id)
â”œâ”€â”€ loan_number (VARCHAR, Unique, Auto-generated)
â”œâ”€â”€ principal_amount (DECIMAL)
â”œâ”€â”€ interest_rate (DECIMAL, 0-100%)
â”œâ”€â”€ tenure_months (INTEGER, 1-360)
â”œâ”€â”€ status (ENUM: pending_approval, active, completed, defaulted)
â”œâ”€â”€ approved_by/approved_at/disbursed_at
â”œâ”€â”€ created_at/updated_at/deleted_at

emis (8 columns)
â”œâ”€â”€ id (UUID, Primary Key)
â”œâ”€â”€ loan_id (UUID, Foreign Key â†’ loans.id)
â”œâ”€â”€ emi_number (INTEGER)
â”œâ”€â”€ due_date (DATE)
â”œâ”€â”€ amount (DECIMAL)
â”œâ”€â”€ status (ENUM: pending, paid, overdue, partially_paid)
â”œâ”€â”€ paid_date/paid_amount
â”œâ”€â”€ created_at/updated_at

payments (8 columns)
â”œâ”€â”€ id (UUID, Primary Key)
â”œâ”€â”€ loan_id (UUID, Foreign Key â†’ loans.id)
â”œâ”€â”€ amount (DECIMAL)
â”œâ”€â”€ payment_date (DATE)
â”œâ”€â”€ payment_method (ENUM: cash, bank_transfer, upi, cheque)
â”œâ”€â”€ reference_number/notes
â”œâ”€â”€ recorded_by (UUID, Foreign Key â†’ users.id)
â”œâ”€â”€ created_at/updated_at

documents (7 columns)
â”œâ”€â”€ id (UUID, Primary Key)
â”œâ”€â”€ borrower_id (UUID, Foreign Key â†’ borrowers.id)
â”œâ”€â”€ document_type (ENUM: aadhar, pan, salary_slip, bank_statement, photo)
â”œâ”€â”€ file_url (TEXT)
â”œâ”€â”€ verification_status (ENUM: pending, verified, rejected)
â”œâ”€â”€ verified_by/verified_at
â”œâ”€â”€ created_at/updated_at
```

#### **Database Features Implemented:**
- âœ… **Row Level Security (RLS)** enabled on all tables
- âœ… **Email verification workflow** with approval process
- âœ… **Admin approval system** for lenders
- âœ… **Soft deletes** with audit trails
- âœ… **Auto-timestamps** and user tracking
- âœ… **Foreign key relationships** with cascade deletes
- âœ… **Database functions** for complex operations
- âœ… **Real-time subscriptions** ready
- âœ… **Indexed queries** for performance

#### **Current Database State:**
- **Clean database** with only super admin user
- **Super Admin Credentials**: `aarje2050@gmail.com` / `Rajesh@321`
- **Email verification** working via Supabase
- **RLS policies** tested and functional
- **No test data pollution**
